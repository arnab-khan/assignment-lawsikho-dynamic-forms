@if (formGroup) {
<form [formGroup]="formGroup" (ngSubmit)="submit()">
    <ul class="ps-0 mb-0 row row-cols-1 row-cols-md-2">
        @for (fieldInformation of formInformation; track $index) {
        <li class="list-unstyled mt-3"><!-- Each field -->
            @let fieldControll = formGroup.get(fieldInformation.formControlName);
            @let fieldType = fieldInformation.type;
            <label [for]="fieldInformation.formControlName">
                {{fieldInformation.label}}
            </label>

            <!-- start selection of field type -->
            @if (fieldControll && isFormControl(fieldControll)) {
            <div class="mt-2">
                @if (fieldType=='input'||fieldType=='email'||fieldType=='password') {
                <input [type]="fieldType" [formControl]="fieldControll" class="w-100 px-3 py-2 rounded-2">
                }
                @else if (fieldType=='select') {
                <select [formControl]="fieldControll" class="w-100 px-3 py-2 rounded-2">
                    <option [value]="null" disabled>Select a value</option>
                    @for (option of fieldInformation?.options||[]; track $index) {
                    <option [value]="option">
                        {{option}}
                    </option>
                    }
                </select>
                }
                @else if (fieldType=='file') {
                <input type="file" [formControl]="fieldControll" class="w-100 px-3 py-2 rounded-2">
                }
            </div>
            }
            <!-- end selection of field type -->

            <!-- Start validetion -->
            @if (fieldControll?.invalid) {
            <div class="mt-2">
                @if (fieldControll?.errors?.['required']) {
                <span>
                    {{fieldInformation?.validation?.mandatory?.errorMessage}}
                </span>
                }
                @if (fieldControll?.errors?.['pattern']) {
                <span>
                    {{fieldInformation?.validation?.pattern?.errorMessage}}
                </span>
                }
            </div>
            }
            <!-- End validetion -->
        </li>
        }
    </ul>
    <button type="submit" class="d-block mx-auto mt-5 bg-primary text-white border-0 rounded-2 px-5 py-3">
        Submit
    </button>
</form>
}